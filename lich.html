<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>L·ªãch Nh·∫≠t K√Ω</title>
<style>
  #helpBtn {
    position: fixed;
    top: 15px;
    right: 15px;
    padding: 10px 18px;
    background: #ff9800;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
    z-index: 11000;
}

#hideHelpBtn {
    position: fixed;
    top: 15px;
    right: 130px;
    padding: 10px 18px;
    background: #ca2222;
    color:white;
    border:none;
    border-radius:8px;
    font-size:16px;
    cursor:pointer;
    z-index:11000;
    font-weight: 600;
}

#helpOverlay {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.8);
    display: none;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 12000;
}
#helpOverlay video {
    max-width: 90%;
    max-height: 80%;
    border-radius: 12px;
}
#closeHelp {
    margin-top: 20px;
    padding: 12px 20px;
    background: #e53935;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 18px;
    cursor: pointer;
}
body {
  margin:0;
  font-family:Arial,sans-serif;
  background:#0f172a;
  color:#fff;
}
.app{
  width:100%;
  max-width:900px;
  margin:0 auto;
  padding:10px;
}
header{
  display:flex;
  flex-direction:column;
  align-items:center;
  margin-bottom:20px;
}
header h2{
  margin:10px 0;
}
header .user-controls{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
button{
  background:#7c3aed;
  border:none;
  padding:8px 14px;
  color:#fff;
  border-radius:8px;
  cursor:pointer;
}
button.secondary{background:#222;}
.calendar{
  width:100%;
  overflow-x:auto;
}
.month{
  background:#111829;
  padding:16px;
  border-radius:12px;
}
.controls{
  display:flex;
  justify-content:space-between;
  margin-bottom:12px;
  flex-wrap:wrap;
  gap:6px;
}
select,input[type="date"]{
  padding:6px;
  border-radius:6px;
  background:#1b2236;
  color:#fff;
  border:1px solid #444;
}
.grid{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:6px;
}
.dayHead{
  text-align:center;
  font-size:12px;
  color:#9aa2b2;
}
.cell{
  padding:10px;
  min-height:70px;
  border-radius:8px;
  cursor:pointer;
  position:relative;
  background:#162040;
  word-break:break-word;
}
.cell.out{opacity:0.25;}
.cell:hover{background:#1e2a55;}
.date{position:absolute;top:6px;right:8px;font-size:12px;}
textarea{
  width:100%;
  height:180px;
  background:#0c1326;
  color:#fff;
  border:1px solid #344;
  padding:8px;
  border-radius:8px;
  resize: vertical;
  box-sizing:border-box;
}
.modal, #filterModal, #quickViewOverlay{
  position:fixed;inset:0;display:none;
  align-items:center;justify-content:center;
  z-index:100;
}
.modal,#filterModal{background:#0008;}
.card{
  background:#0f1a32;
  padding:20px;
  border-radius:12px;
  width:90%;
  max-width:500px;
  box-sizing:border-box;
}
#quickViewOverlay{
  background:#000e;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:10px;
  box-sizing:border-box;
}
.quickViewCard{
  background:#0f1a32;
  border-radius:12px;
  width:100%;
  max-width:600px;
  max-height:90vh;
  display:flex;
  flex-direction:column;
  overflow:hidden;
  box-sizing:border-box;
}
#quickEntries{
  flex:1;
  overflow-y:auto;
  margin-top:10px;
}
.quick-entry{
  background:#1b2236;
  padding:12px;
  border-radius:8px;
  margin-bottom:12px;
  white-space: pre-wrap;
  border:1px solid #2a3550;
  word-break:break-word;
  max-width:100%;
}
.quick-entry .date-label{
  background:#7c3aed;
  padding:4px 8px;
  border-radius:6px;
  color:#fff;
  font-weight:bold;
  display:inline-block;
  margin-bottom:6px;
}
.quick-entry .content{
  background:#e9ff97;
  padding:12px;
  border-radius:6px;
  color:#000;
  white-space: pre-wrap;
  word-wrap: break-word;
  font-size:32px; /* font l·ªõn h∆°n */
}
#closeQuickView{
  margin-top:10px;
  padding:12px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  background:#222;
  color:#fff;
  width:100%;
  flex-shrink:0;
}
#btnQuickView{
  position:fixed;right:10px;bottom:10px;
  background:#7c3aed;padding:10px 14px;
  border:none;border-radius:8px;color:#fff;cursor:pointer;z-index:101;
  box-shadow:0 4px 10px rgba(0,0,0,0.4);
}
#btnFilterTime{
  position:fixed;
  right:10px;
  bottom:70px;
  background-color:orange;
  color:black;
  padding:10px 14px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  z-index:101;
  box-shadow:0 4px 10px rgba(0,0,0,0.4);
}
#filterModal .card{max-width:400px;}
@media(max-width:600px){
  .controls{flex-direction:column;align-items:flex-start;}
  .grid{gap:4px;}
  .cell{min-height:50px;padding:6px;font-size:12px;}
  textarea{height:140px;}
  button{padding:6px 10px;font-size:14px;}
  #btnQuickView{padding:8px 12px;bottom:10px;right:10px;}
  #btnFilterTime{font-size:14px;}
  .quick-entry{padding:8px;}
  .quick-entry .content{padding:8px;font-size:28px;}
  .quickViewCard{max-width:95%; max-height:95vh;}
  #closeQuickView{padding:10px;}
}
</style>
</head>
<body>
  
<div class="app">
  <button id="hideHelpBtn" onclick="hideHelpBtnFunction()">X</button>

<!-- N√öT H∆Ø·ªöNG D·∫™N -->
<button id="helpBtn" onclick="showHelp()">H∆∞·ªõng d·∫´n</button>

<!-- OVERLAY VIDEO -->
<div id="helpOverlay">
    <video id="helpVideo" controls>
        <source src="nh·∫≠t k√≠.mp4" type="video/mp4">
    </video>
    <button id="closeHelp" onclick="closeHelp()">ƒê√≥ng</button>
</div>
  <header>
    <div class="header-top">
      <h2>üìÖ L·ªãch Nh·∫≠t K√Ω</h2>
      <div class="user-controls">
        <span id="userInfo">Ch∆∞a ƒëƒÉng nh·∫≠p</span>
        <button id="btnLogin" class="secondary">ƒêƒÉng nh·∫≠p</button>
        <button id="btnLogout" class="secondary" style="display:none;background-color: rgb(197, 26, 26);">ƒêƒÉng xu·∫•t</button>
      </div>
    </div>
  </header>

  <div class="calendar">
    <div class="month">
      <div class="controls">
        <div style="display:flex;gap:6px;flex-wrap:wrap;">
          <select id="selMonth"></select>
          <select id="selYear"></select>
        </div>
        <button id="today">H√¥m nay</button>
      </div>
      <div class="grid">
        <div class="dayHead">T2</div><div class="dayHead">T3</div><div class="dayHead">T4</div>
        <div class="dayHead">T5</div><div class="dayHead">T6</div><div class="dayHead">T7</div><div class="dayHead">CN</div>
      </div>
      <div class="grid" id="cells"></div>
    </div>
  </div>
</div>

<!-- Modal nh·∫≠t k√Ω -->
<div id="modal" class="modal">
  <div class="card">
    <h3 id="modalTitle"></h3>
    <textarea id="entry"></textarea>
    <div style="margin-top:10px;text-align:right;display:flex;gap:10px;justify-content:flex-end;">
      <button id="saveEntry">L∆∞u</button>
      <button id="closeModal" class="secondary">ƒê√≥ng</button>
    </div>
  </div>
</div>

<div id="quickViewOverlay" >
  <div class="card quickViewCard" style="display: flex;justify-content: center;">
    <h2>Nh·∫≠t k√Ω nhanh </h2>
    
    <div id="quickEntries"></div>
    <button id="closeQuickView" style="width: 100%;height: 40px;background-color: #3ec6cf; color: black; font-size: 20px; font-family: Arial, Helvetica, sans-serif; ">ƒê√≥ng</button>
  </div>
</div>

<div id="filterModal" class="modal">
  <div class="card">
    <h3>Ch·ªçn kho·∫£ng th·ªùi gian</h3>
    <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px;">
      <div>
        <label>T·ª´ ng√†y:</label>
        <input type="date" id="startDate">
      </div>
      <div>
        <label>ƒê·∫øn ng√†y:</label>
        <input type="date" id="endDate">
      </div>
    </div>
    <div style="margin-top:10px;text-align:right;display:flex;gap:10px;justify-content:flex-end;">
      <button id="applyFilter">X√°c nh·∫≠n</button>
      <button id="closeFilter" class="secondary">ƒê√≥ng</button>
    </div>
  </div>
</div>

<!-- N√∫t m·ªü quick view -->
<button id="btnQuickView" style="background-color: #1be99a;color: #000;">Xem nh·∫≠t k√Ω nhanh</button>
<!-- N√∫t ch·ªçn th·ªùi gian -->
<button id="btnFilterTime">Ch·ªçn th·ªùi gian</button>

<script>
  const _0x4b0702=_0x45d7;function _0xc7cd(){const _0x23ac20=['hideHelpBtn','download','min','helpOverlay','1330709ybKXAf','332JAdJIO','toDataURL','1896384XUsFAw','6392LARWZY','343449rkSiCi','image/png','helpVideo','src','Vui\x20l√≤ng\x20nh·∫≠p\x20link!','10925tCXvtH','display','none','drawImage','getElementById','error','width','createElement','12310nYMYyC','helpBtn','getContext','play','clearRect','4145490Rgitdl','height','canvas','855JgYimQ','open','pause','inline-block','currentTime','nenqr.jpg','style','8351tMNeKV','generate','href','click','urlInput','onclick'];_0xc7cd=function(){return _0x23ac20;};return _0xc7cd();}(function(_0x131f66,_0x4059e8){const _0x33b39f=_0x45d7,_0x23c8df=_0x131f66();while(!![]){try{const _0x52d7d9=parseInt(_0x33b39f(0x201))/0x1+parseInt(_0x33b39f(0x204))/0x2+parseInt(_0x33b39f(0x206))/0x3+parseInt(_0x33b39f(0x202))/0x4*(parseInt(_0x33b39f(0x1e0))/0x5)+-parseInt(_0x33b39f(0x1ed))/0x6+-parseInt(_0x33b39f(0x1f7))/0x7*(parseInt(_0x33b39f(0x205))/0x8)+-parseInt(_0x33b39f(0x1f0))/0x9*(parseInt(_0x33b39f(0x1e8))/0xa);if(_0x52d7d9===_0x4059e8)break;else _0x23c8df['push'](_0x23c8df['shift']());}catch(_0x2c90f5){_0x23c8df['push'](_0x23c8df['shift']());}}}(_0xc7cd,0xc6a68));function _0x45d7(_0x365961,_0xb0e905){const _0xc7cde1=_0xc7cd();return _0x45d7=function(_0x45d7e3,_0x1ad958){_0x45d7e3=_0x45d7e3-0x1df;let _0xc7db27=_0xc7cde1[_0x45d7e3];return _0xc7db27;},_0x45d7(_0x365961,_0xb0e905);}function showHelp(){const _0x7a8b52=_0x45d7;document[_0x7a8b52(0x1e4)](_0x7a8b52(0x200))[_0x7a8b52(0x1f6)][_0x7a8b52(0x1e1)]='flex';const _0x263bff=document[_0x7a8b52(0x1e4)](_0x7a8b52(0x208));_0x263bff[_0x7a8b52(0x1f4)]=0x0,_0x263bff[_0x7a8b52(0x1eb)]();}function closeHelp(){const _0x288720=_0x45d7;document['getElementById'](_0x288720(0x200))['style']['display']=_0x288720(0x1e2),document[_0x288720(0x1e4)](_0x288720(0x208))[_0x288720(0x1f2)]();}function hideHelpBtnFunction(){const _0x386f65=_0x45d7;document['getElementById'](_0x386f65(0x1e9))[_0x386f65(0x1f6)][_0x386f65(0x1e1)]=_0x386f65(0x1e2),document['getElementById'](_0x386f65(0x1fd))[_0x386f65(0x1f6)][_0x386f65(0x1e1)]='none';}const canvas=document[_0x4b0702(0x1e4)]('qrCanvas'),ctx=canvas[_0x4b0702(0x1ea)]('2d'),downloadBtn=document[_0x4b0702(0x1e4)]('download'),openDriveBtn=document['getElementById']('openDrive'),background=new Image();background[_0x4b0702(0x209)]=_0x4b0702(0x1f5),document[_0x4b0702(0x1e4)](_0x4b0702(0x1f8))[_0x4b0702(0x1fc)]=async()=>{const _0x183900=_0x4b0702,_0x1a179f=document[_0x183900(0x1e4)](_0x183900(0x1fb))['value']['trim']();if(!_0x1a179f){alert(_0x183900(0x1df));return;}try{const _0x2d5cd1=await QRCode[_0x183900(0x203)](_0x1a179f,{'width':0xb4}),_0x3b36be=new Image();_0x3b36be['src']=_0x2d5cd1,_0x3b36be['onload']=()=>{const _0x3c8b38=_0x183900;ctx[_0x3c8b38(0x1ec)](0x0,0x0,canvas[_0x3c8b38(0x1e6)],canvas['height']);const _0x384b64=Math[_0x3c8b38(0x1ff)](canvas[_0x3c8b38(0x1e6)]/background['width'],canvas['height']/background[_0x3c8b38(0x1ee)]),_0x6fb05d=background[_0x3c8b38(0x1e6)]*_0x384b64,_0x1afefb=background[_0x3c8b38(0x1ee)]*_0x384b64,_0x5f355f=(canvas[_0x3c8b38(0x1e6)]-_0x6fb05d)/0x2,_0xc5c6a3=(canvas[_0x3c8b38(0x1ee)]-_0x1afefb)/0x2;ctx[_0x3c8b38(0x1e3)](background,_0x5f355f,_0xc5c6a3,_0x6fb05d,_0x1afefb);const _0x47273b=0xb4,_0x5f4d6f=(canvas['width']-_0x47273b)/0x2,_0x3cca2b=(canvas[_0x3c8b38(0x1ee)]-_0x47273b)/0x2;ctx[_0x3c8b38(0x1e3)](_0x3b36be,_0x5f4d6f,_0x3cca2b,_0x47273b,_0x47273b),downloadBtn[_0x3c8b38(0x1f6)][_0x3c8b38(0x1e1)]=_0x3c8b38(0x1f3),downloadBtn[_0x3c8b38(0x1fc)]=()=>{const _0x16fb9b=_0x3c8b38,_0x2615a6=document[_0x16fb9b(0x1e7)](_0x16fb9b(0x1ef)),_0x89673d=0x3e8;_0x2615a6[_0x16fb9b(0x1e6)]=_0x89673d,_0x2615a6['height']=_0x89673d;const _0x11b769=_0x2615a6[_0x16fb9b(0x1ea)]('2d'),_0x1217fb=Math[_0x16fb9b(0x1ff)](_0x89673d/background[_0x16fb9b(0x1e6)],_0x89673d/background[_0x16fb9b(0x1ee)]),_0x594884=background[_0x16fb9b(0x1e6)]*_0x1217fb,_0x42cffd=background[_0x16fb9b(0x1ee)]*_0x1217fb,_0x23ef19=(_0x89673d-_0x594884)/0x2,_0x13762e=(_0x89673d-_0x42cffd)/0x2;_0x11b769[_0x16fb9b(0x1e3)](background,_0x23ef19,_0x13762e,_0x594884,_0x42cffd);const _0x178686=0xb4/0xfa*_0x89673d,_0xc2259a=(_0x89673d-_0x178686)/0x2,_0x51635d=(_0x89673d-_0x178686)/0x2;_0x11b769['drawImage'](_0x3b36be,_0xc2259a,_0x51635d,_0x178686,_0x178686);const _0x563455=document['createElement']('a');_0x563455[_0x16fb9b(0x1fe)]='Annd.png',_0x563455['href']=_0x2615a6['toDataURL'](_0x16fb9b(0x207)),_0x563455[_0x16fb9b(0x1fa)]();};};}catch(_0x48c409){console[_0x183900(0x1e5)](_0x48c409),alert('C√≥\x20l·ªói\x20khi\x20t·∫°o\x20QR\x20Code.');}},downloadBtn[_0x4b0702(0x1fc)]=()=>{const _0x222f78=_0x4b0702,_0x50201e=document[_0x222f78(0x1e7)]('a');_0x50201e[_0x222f78(0x1fe)]='qr_with_bg.png',_0x50201e[_0x222f78(0x1f9)]=canvas['toDataURL'](_0x222f78(0x207)),_0x50201e[_0x222f78(0x1fa)]();},openDriveBtn[_0x4b0702(0x1fc)]=()=>{const _0xa12937=_0x4b0702;window[_0xa12937(0x1f1)]('https://drive.google.com','_blank');};
</script>
</body>
</html>
