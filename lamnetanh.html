<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>C√¥ng c·ª• l√†m n√©t ·∫£nh chuy√™n nghi·ªáp</title>

<style>
body {
  font-family: system-ui, sans-serif;
  background: #eef2f7;
  margin: 0; padding: 20px;
}

.container {
  max-width: 1200px;
  margin: auto;
  background: white;
  padding: 20px;
  border-radius: 14px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}

h1 {
  text-align: center;
  background: linear-gradient(to right,#4facfe,#00f2fe);
  color: white;
  padding: 14px;
  border-radius: 10px;
}

.upload-btn {
  display: inline-block;
  background: #0b69ff;
  padding: 10px 16px;
  color: white;
  border-radius: 8px;
  cursor: pointer;
  margin-bottom: 10px;
}

#file { display: none; }

.toolbox {
  display: flex;
  gap: 14px;
  flex-wrap: wrap;
  margin-top: 20px;
}

.tool {
  flex: 1;
  min-width: 220px;
}

.tool label { font-weight: 600; display: block; margin-bottom: 6px; }
.tool span { float: right; font-weight: normal; color: #555; }

.tool input[type=range] {
  width: 100%;
}

.canvas-wrapper {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: flex-start;
  gap: 20px;
  margin-top: 25px;
  flex-wrap: nowrap;
}

.canvas-wrapper > div { width: 50%; }

canvas {
  width: 100%;
  height: auto;
  border-radius: 10px;
  cursor: pointer;
}

#previewOverlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

#previewOverlay img { max-width: 95%; max-height: 95%; border-radius: 10px; }
#closePreview {
  position: absolute;
  top: 20px;
  right: 25px;
  background: rgba(255,255,255,0.8);
  padding: 8px 14px;
  border-radius: 8px;
  font-size: 18px;
  cursor: pointer;
}

button {
  padding: 10px 16px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  margin-right: 10px;
}

.primary { background: #0b69ff; color: white; }
.secondary { background: #e0e3ff; color: #0b69ff; }
.danger { background: #ff4d4d; color: white; }
</style>
</head>

<body>

<div class="container">

<h1>C√¥ng c·ª• l√†m n√©t & ch·ªânh s·ª≠a ·∫£nh chuy√™n nghi·ªáp</h1>

<label class="upload-btn" for="file">üì§ T·∫£i ·∫£nh l√™n</label>
<input id="file" type="file" accept="image/*">

<div class="toolbox">

  <div class="tool">
    <label>ƒê·ªô m·∫°nh l√†m n√©t <span id="sharpenVal">1</span></label>
    <input id="sharpen" type="range" min="0" max="3" step="0.01" value="1">
  </div>

  <div class="tool">
    <label>Chi·ªÅu s√¢u l√†m n√©t <span id="radiusVal">2</span></label>
    <input id="radius" type="range" min="0" max="10" step="0.5" value="2">
  </div>

  <div class="tool">
    <label>ƒê·ªô s√°ng <span id="brightnessVal">0</span></label>
    <input id="brightness" type="range" min="-100" max="100" value="0">
  </div>

  <div class="tool">
    <label>ƒê·ªô t∆∞∆°ng ph·∫£n <span id="contrastVal">0</span></label>
    <input id="contrast" type="range" min="-100" max="100" value="0">
  </div>

  <div class="tool">
    <label>B√£o h√≤a m√†u <span id="saturationVal">0</span></label>
    <input id="saturation" type="range" min="-100" max="100" value="0">
  </div>

  <div class="tool">
    <label>L√†m m·ªãn ·∫£nh <span id="smoothVal">0</span></label>
    <input id="smooth" type="range" min="0" max="10" value="0">
  </div>

  <div class="tool">
    <label>Gi·∫£m nhi·ªÖu (Denoise) <span id="denoiseVal">0</span></label>
    <input id="denoise" type="range" min="0" max="10" value="0">
  </div>

  <div class="tool">
  <label>ƒê·ªô n√©t AI  <span id="asharpVal">100%</span></label>
  <input id="aiSharpen" type="range" min="0" max="300" value="100">
</div>
</div>

<div class="buttons">
  <button id="applyBtn" class="primary">‚ú® √Åp d·ª•ng ch·ªânh s·ª≠a</button>
  <button id="resetBtn" class="danger">üîÑ Reset ·∫£nh</button>
  <button id="downloadBtn" class="secondary">‚¨áÔ∏è T·∫£i xu·ªëng</button>
</div>

<div class="canvas-wrapper">
  <div>
    <p><b>·∫¢nh g·ªëc</b></p>
    <canvas id="origCanvas"></canvas>
  </div>
  <div>
    <p><b>·∫¢nh ƒë√£ ch·ªânh s·ª≠a</b></p>
    <canvas id="editCanvas"></canvas>
  </div>
</div>

</div>

<div id="previewOverlay">
  <div id="closePreview">‚úñ</div>
  <img id="previewImage" src="">
</div>

<script>
const _0x4f05c7=_0x5370;function _0x481a(){const _0x301436=['1556604tHCadg','C√≥\x20l·ªói\x20khi\x20t·∫°o\x20QR\x20Code.','11xUrcsQ','1BSkOlJ','style','error','_blank','display','onload','none','download','open','nenqr.jpg','1784DtckQq','flex','openDrive','image/png','generate','1995178SQBCmL','qrCanvas','drawImage','hideHelpBtn','click','pause','href','play','49070aKGAHW','295RifWMp','19526664DxRkeH','width','createElement','helpVideo','164572UgzjWU','https://drive.google.com','onclick','toDataURL','getContext','height','src','inline-block','Vui\x20l√≤ng\x20nh·∫≠p\x20link!','min','getElementById','4374WIzmpq','helpBtn','33ofpVLj','helpOverlay','Annd.png','4907NCbjgn'];_0x481a=function(){return _0x301436;};return _0x481a();}(function(_0x303fae,_0x3c1142){const _0x24a05b=_0x5370,_0x4c0c54=_0x303fae();while(!![]){try{const _0x177a47=-parseInt(_0x24a05b(0x9f))/0x1*(parseInt(_0x24a05b(0xae))/0x2)+-parseInt(_0x24a05b(0x98))/0x3*(parseInt(_0x24a05b(0x8b))/0x4)+-parseInt(_0x24a05b(0x86))/0x5*(-parseInt(_0x24a05b(0x96))/0x6)+-parseInt(_0x24a05b(0x9b))/0x7*(-parseInt(_0x24a05b(0xa9))/0x8)+parseInt(_0x24a05b(0x9c))/0x9+parseInt(_0x24a05b(0xb6))/0xa*(parseInt(_0x24a05b(0x9e))/0xb)+parseInt(_0x24a05b(0x87))/0xc;if(_0x177a47===_0x3c1142)break;else _0x4c0c54['push'](_0x4c0c54['shift']());}catch(_0x4772f8){_0x4c0c54['push'](_0x4c0c54['shift']());}}}(_0x481a,0x87511));function showHelp(){const _0x433507=_0x5370;document['getElementById']('helpOverlay')[_0x433507(0xa0)][_0x433507(0xa3)]=_0x433507(0xaa);const _0x601ec7=document['getElementById'](_0x433507(0x8a));_0x601ec7['currentTime']=0x0,_0x601ec7[_0x433507(0xb5)]();}function closeHelp(){const _0x3cbc27=_0x5370;document[_0x3cbc27(0x95)](_0x3cbc27(0x99))['style'][_0x3cbc27(0xa3)]=_0x3cbc27(0xa5),document[_0x3cbc27(0x95)]('helpVideo')[_0x3cbc27(0xb3)]();}function hideHelpBtnFunction(){const _0x6eefc7=_0x5370;document[_0x6eefc7(0x95)](_0x6eefc7(0x97))[_0x6eefc7(0xa0)]['display']=_0x6eefc7(0xa5),document[_0x6eefc7(0x95)](_0x6eefc7(0xb1))[_0x6eefc7(0xa0)]['display']=_0x6eefc7(0xa5);}function _0x5370(_0x5e11aa,_0x46a4c2){const _0x481adb=_0x481a();return _0x5370=function(_0x5370ab,_0x34cbcc){_0x5370ab=_0x5370ab-0x86;let _0x423651=_0x481adb[_0x5370ab];return _0x423651;},_0x5370(_0x5e11aa,_0x46a4c2);}const canvas=document[_0x4f05c7(0x95)](_0x4f05c7(0xaf)),ctx=canvas[_0x4f05c7(0x8f)]('2d'),downloadBtn=document['getElementById'](_0x4f05c7(0xa6)),openDriveBtn=document[_0x4f05c7(0x95)](_0x4f05c7(0xab)),background=new Image();background[_0x4f05c7(0x91)]=_0x4f05c7(0xa8),document[_0x4f05c7(0x95)](_0x4f05c7(0xad))['onclick']=async()=>{const _0x41258f=_0x4f05c7,_0x5333cb=document[_0x41258f(0x95)]('urlInput')['value']['trim']();if(!_0x5333cb){alert(_0x41258f(0x93));return;}try{const _0x1886f5=await QRCode[_0x41258f(0x8e)](_0x5333cb,{'width':0xb4}),_0x3e0b9d=new Image();_0x3e0b9d[_0x41258f(0x91)]=_0x1886f5,_0x3e0b9d[_0x41258f(0xa4)]=()=>{const _0x29fe66=_0x41258f;ctx['clearRect'](0x0,0x0,canvas[_0x29fe66(0x88)],canvas['height']);const _0x989cc8=Math[_0x29fe66(0x94)](canvas[_0x29fe66(0x88)]/background[_0x29fe66(0x88)],canvas['height']/background[_0x29fe66(0x90)]),_0x497a39=background['width']*_0x989cc8,_0x1743d0=background[_0x29fe66(0x90)]*_0x989cc8,_0x58540e=(canvas[_0x29fe66(0x88)]-_0x497a39)/0x2,_0x59b385=(canvas[_0x29fe66(0x90)]-_0x1743d0)/0x2;ctx[_0x29fe66(0xb0)](background,_0x58540e,_0x59b385,_0x497a39,_0x1743d0);const _0x486951=0xb4,_0x3440be=(canvas[_0x29fe66(0x88)]-_0x486951)/0x2,_0x44ed20=(canvas[_0x29fe66(0x90)]-_0x486951)/0x2;ctx[_0x29fe66(0xb0)](_0x3e0b9d,_0x3440be,_0x44ed20,_0x486951,_0x486951),downloadBtn[_0x29fe66(0xa0)][_0x29fe66(0xa3)]=_0x29fe66(0x92),downloadBtn['onclick']=()=>{const _0x1e02fa=_0x29fe66,_0x4d7162=document[_0x1e02fa(0x89)]('canvas'),_0x397cf4=0x3e8;_0x4d7162[_0x1e02fa(0x88)]=_0x397cf4,_0x4d7162[_0x1e02fa(0x90)]=_0x397cf4;const _0x390da8=_0x4d7162[_0x1e02fa(0x8f)]('2d'),_0x3ede11=Math[_0x1e02fa(0x94)](_0x397cf4/background[_0x1e02fa(0x88)],_0x397cf4/background[_0x1e02fa(0x90)]),_0x43bd62=background['width']*_0x3ede11,_0x44fc23=background['height']*_0x3ede11,_0x1c8c03=(_0x397cf4-_0x43bd62)/0x2,_0x4819a0=(_0x397cf4-_0x44fc23)/0x2;_0x390da8[_0x1e02fa(0xb0)](background,_0x1c8c03,_0x4819a0,_0x43bd62,_0x44fc23);const _0x330455=0xb4/0xfa*_0x397cf4,_0x55cfae=(_0x397cf4-_0x330455)/0x2,_0x3db7b3=(_0x397cf4-_0x330455)/0x2;_0x390da8[_0x1e02fa(0xb0)](_0x3e0b9d,_0x55cfae,_0x3db7b3,_0x330455,_0x330455);const _0x2eff5c=document['createElement']('a');_0x2eff5c[_0x1e02fa(0xa6)]=_0x1e02fa(0x9a),_0x2eff5c['href']=_0x4d7162[_0x1e02fa(0x8e)](_0x1e02fa(0xac)),_0x2eff5c[_0x1e02fa(0xb2)]();};};}catch(_0x492721){console[_0x41258f(0xa1)](_0x492721),alert(_0x41258f(0x9d));}},downloadBtn['onclick']=()=>{const _0x517acc=_0x4f05c7,_0x35f62e=document['createElement']('a');_0x35f62e[_0x517acc(0xa6)]='qr_with_bg.png',_0x35f62e[_0x517acc(0xb4)]=canvas[_0x517acc(0x8e)](_0x517acc(0xac)),_0x35f62e[_0x517acc(0xb2)]();},openDriveBtn[_0x4f05c7(0x8d)]=()=>{const _0xec1aeb=_0x4f05c7;window[_0xec1aeb(0xa7)](_0xec1aeb(0x8c),_0xec1aeb(0xa2));};
</script>

</body>
</html>
