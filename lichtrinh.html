<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Quản lý lịch trình</title>

<style>
   
    #helpBtn {
        position: fixed;
        top: 15px;
        right: 15px;
        padding: 12px 20px;
        background: #ff9800;
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 18px;
        cursor: pointer;
        z-index: 11000;
        width: 140px;
    }

    #hideHelpBtn {
        position: fixed;
        top: 15px;
        right: 165px;
        padding: 12px 18px;
        background: #ca2222;
        color:white;
        border:none;
        border-radius:10px;
        font-size:18px;
        cursor:pointer;
        z-index:11000;
        font-weight: 600;
        width: 60px;
    }

    #helpOverlay {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.8);
        display: none;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        z-index: 12000;
        padding: 10px;
    }
    #helpOverlay video {
        width: 95%;
        max-height: 75%;
        border-radius: 12px;
    }

    #closeHelp {
        margin-top: 20px;
        padding: 14px 20px;
        background: #e53935;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 20px;
        cursor: pointer;
    }

    /* ==============================
       GIAO DIỆN CHUNG
    =============================== */
    body {
        font-family: Arial;
        background: #6deb93;
        padding: 12px;
        font-size: 18px;
    }

    .container {
        width: 100%;
        background: rgb(238, 221, 190);
        padding: 18px;
        margin: auto;
        border-radius: 12px;
        box-shadow: 0 0 10px #0003;
    }

    input, button {
        padding: 14px;
        margin: 10px 0;
        width: 100%;
        font-size: 18px;
        border-radius: 8px;
    }

    /* ==============================
       THANH TRÊN
    =============================== */
    #topbar {
        display: flex;
        justify-content: space-between;
        margin-bottom: 18px;
        background: #6064a7;
        padding: 14px;
        border-radius: 10px;
        font-weight: bold;
        color: bisque;
        font-size: 20px;
    }

    #dangxuat {
        background: red;
        color: white;
        width: auto;
        padding: 10px 16px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 18px;
    }

    /* ==============================
       LỊCH TRONG NGÀY
    =============================== */
    #thuHienTai {
        font-weight: bold;
        margin-bottom: 12px;
        color: #333;
        font-size: 20px;
    }

    .lich-item {
        background: #f0f0f0;
        padding: 12px;
        margin: 10px 0;
        border-radius: 8px;
        font-size: 18px;
    }

    .btn-small {
        padding: 10px 14px;
        width: auto;
        margin-right: 10px;
        font-size: 17px;
    }

    /* ==============================
       POPUP SỬA
    =============================== */
    #popupSua {
        display:none;
        position: fixed;
        top: 0; left:0;
        width: 100%; height:100%;
        background: rgba(0,0,0,0.4);
        justify-content: center;
        align-items: center;
        padding: 20px;
    }

    #khungSua {
        background: white;
        padding: 25px;
        width: 92%;
        border-radius: 12px;
        font-size: 18px;
    }

    /* ==============================
       PHẦN 7 NGÀY TỚI
    =============================== */
    .ngay7 {
        background: rgba(255, 255, 255, 0.95);
        padding: 16px;
        margin-bottom: 15px;
        border-radius: 12px;
        font-size: 20px;
        line-height: 1.6;
    }

    .lich7 {
        background: #f9f2c8;
        padding: 10px 12px;
        margin: 8px 0;
        border-radius: 6px;
        font-size: 19px;
    }

    /* ==============================
       TỐI ƯU CHO ĐIỆN THOẠI
    =============================== */
    @media (max-width: 600px) {
        body { font-size: 20px; }

        #helpBtn, #hideHelpBtn {
            font-size: 20px;
            padding: 14px;
        }

        #topbar {
            flex-direction: column;
            gap: 10px;
            text-align: center;
        }

        .btn-small {
            font-size: 20px;
            padding: 12px 16px;
        }

        input, button {
            font-size: 20px;
            padding: 16px;
        }

        .lich-item { font-size: 20px; }
        .lich7 { font-size: 20px; }
        .ngay7 { font-size: 22px; }
    }
</style>

</head>
<body>
  


<div class="container">
   
<button id="hideHelpBtn" onclick="hideHelpBtnFunction()">X</button>

<!-- NÚT HƯỚNG DẪN -->
<button id="helpBtn" onclick="showHelp()">Hướng dẫn</button>

<!-- OVERLAY VIDEO -->
<div id="helpOverlay">
    <video id="helpVideo" controls>
        <source src="quản lý lịch trình.mp4" type="video/mp4">
    </video>
    <button id="closeHelp" onclick="closeHelp()" style="width: 80px;">Đóng</button>
</div>

    <!-- Thanh tên + đăng xuất -->
    <div id="topbar">
        <span id="ten_hien_thi">Tài khoản: ...</span>
        <button id="dangxuat">Đăng xuất</button>
    </div>

    <div style="width: 50px;background-color: black;padding: 5px; border-radius: 10px;">
        <a href="trangchu.html"><img src="ngoinha.jpg" width="100%" style="border-radius: 10px;"></a>
        <a href="tienichmorong.html"><img src="muiten.jpg" width="100%" style="border-radius: 10px; margin-top: 20px;"></a>
    </div>

    <h2>Quản lý lịch trình</h2>

    <label style="font-weight: 600;">Chọn ngày:</label><br>

    <input type="date" id="chonNgay" style="width: 90%;">

    <div id="thuHienTai"></div>

    <div id="formNhap" style="display:none;">
        <label>Giờ:</label>
        <input type="time" id="gio">

        <label>Nội dung:</label>
        <input type="text" id="noidung">

        <button onclick="luuLichTrinh()" style="background-color: #f1e497;color: rgb(18, 18, 20);">Lưu lịch trình</button>
    </div>

    <h3>Lịch trong ngày</h3>
    <div id="lichTrongNgay"></div>

    <hr>

    <button onclick="xem7Ngay()" style="background-color: #aad6f0;">Xem lịch trình 7 ngày tới</button>
    <div id="ketQua" style="margin-top:20px;"></div>
    <button onclick="xemTatCaLich()" style="background-color: #ffcf96; margin-top:10px;">Xem lịch trình đã đặt</button>
<div id="tatCaLich" style="margin-top:20px;"></div>

</div>

<!-- Popup sửa lịch -->
<div id="popupSua">
    <div id="khungSua">
        <h3>Sửa lịch trình</h3>

        <label>Giờ:</label>
        <input type="time" id="editGio">

        <label>Nội dung:</label>
        <input type="text" id="editNoiDung">

        <button onclick="capNhatLich()">Cập nhật</button>
        <button onclick="dongPopup()">Hủy</button>
    </div>
</div>

<script>
    function _0x496d(_0x16823e,_0x495b2c){const _0xa77ea=_0xa77e();return _0x496d=function(_0x496d16,_0x28a945){_0x496d16=_0x496d16-0x17a;let _0x47ecd9=_0xa77ea[_0x496d16];return _0x47ecd9;},_0x496d(_0x16823e,_0x495b2c);}const _0x52c387=_0x496d;(function(_0x42754a,_0x396bc1){const _0x2ac07a=_0x496d,_0x142e92=_0x42754a();while(!![]){try{const _0x301398=parseInt(_0x2ac07a(0x186))/0x1+-parseInt(_0x2ac07a(0x19d))/0x2*(-parseInt(_0x2ac07a(0x19c))/0x3)+-parseInt(_0x2ac07a(0x189))/0x4*(parseInt(_0x2ac07a(0x1a3))/0x5)+-parseInt(_0x2ac07a(0x184))/0x6+parseInt(_0x2ac07a(0x19e))/0x7*(parseInt(_0x2ac07a(0x19b))/0x8)+-parseInt(_0x2ac07a(0x190))/0x9+-parseInt(_0x2ac07a(0x194))/0xa*(-parseInt(_0x2ac07a(0x17e))/0xb);if(_0x301398===_0x396bc1)break;else _0x142e92['push'](_0x142e92['shift']());}catch(_0x4989df){_0x142e92['push'](_0x142e92['shift']());}}}(_0xa77e,0xe13b5));function _0xa77e(){const _0x59c0bf=['1622951ipgodG','min','openDrive','8bfTqGu','image/png','flex','qr_with_bg.png','currentTime','onclick','display','9165024GwoPVh','none','generate','toDataURL','290JtzyOn','getContext','href','drawImage','Có\x20lỗi\x20khi\x20tạo\x20QR\x20Code.','Vui\x20lòng\x20nhập\x20link!','createElement','8iAkhib','15HICDCZ','1246BVXamT','10932691gyyZXs','pause','clearRect','height','src','2002205VUXERV','download','helpBtn','width','_blank','error','hideHelpBtn','open','429682WDSylA','getElementById','style','play','helpOverlay','https://drive.google.com','9473460FyUEBd','click'];_0xa77e=function(){return _0x59c0bf;};return _0xa77e();}function showHelp(){const _0x464667=_0x496d;document['getElementById'](_0x464667(0x182))[_0x464667(0x180)][_0x464667(0x18f)]=_0x464667(0x18b);const _0x1ed9d0=document[_0x464667(0x17f)]('helpVideo');_0x1ed9d0[_0x464667(0x18d)]=0x0,_0x1ed9d0[_0x464667(0x181)]();}function closeHelp(){const _0x91c454=_0x496d;document[_0x91c454(0x17f)](_0x91c454(0x182))[_0x91c454(0x180)][_0x91c454(0x18f)]='none',document['getElementById']('helpVideo')[_0x91c454(0x19f)]();}function hideHelpBtnFunction(){const _0x92d8c9=_0x496d;document[_0x92d8c9(0x17f)](_0x92d8c9(0x1a5))[_0x92d8c9(0x180)][_0x92d8c9(0x18f)]='none',document['getElementById'](_0x92d8c9(0x17c))[_0x92d8c9(0x180)]['display']=_0x92d8c9(0x191);}const canvas=document[_0x52c387(0x17f)]('qrCanvas'),ctx=canvas[_0x52c387(0x195)]('2d'),downloadBtn=document['getElementById']('download'),openDriveBtn=document[_0x52c387(0x17f)](_0x52c387(0x188)),background=new Image();background[_0x52c387(0x1a2)]='nenqr.jpg',document[_0x52c387(0x17f)](_0x52c387(0x192))[_0x52c387(0x18e)]=async()=>{const _0x22afcf=_0x52c387,_0x2a789c=document[_0x22afcf(0x17f)]('urlInput')['value']['trim']();if(!_0x2a789c){alert(_0x22afcf(0x199));return;}try{const _0x2e4fbc=await QRCode[_0x22afcf(0x193)](_0x2a789c,{'width':0xb4}),_0x370058=new Image();_0x370058[_0x22afcf(0x1a2)]=_0x2e4fbc,_0x370058['onload']=()=>{const _0x41cdc6=_0x22afcf;ctx[_0x41cdc6(0x1a0)](0x0,0x0,canvas[_0x41cdc6(0x1a6)],canvas[_0x41cdc6(0x1a1)]);const _0x264cdb=Math['min'](canvas['width']/background[_0x41cdc6(0x1a6)],canvas[_0x41cdc6(0x1a1)]/background[_0x41cdc6(0x1a1)]),_0x288e3b=background[_0x41cdc6(0x1a6)]*_0x264cdb,_0xf363f9=background[_0x41cdc6(0x1a1)]*_0x264cdb,_0x5d6ddd=(canvas[_0x41cdc6(0x1a6)]-_0x288e3b)/0x2,_0x46805f=(canvas[_0x41cdc6(0x1a1)]-_0xf363f9)/0x2;ctx[_0x41cdc6(0x197)](background,_0x5d6ddd,_0x46805f,_0x288e3b,_0xf363f9);const _0x8d5ae0=0xb4,_0x4bd4ea=(canvas['width']-_0x8d5ae0)/0x2,_0x4c0ba4=(canvas[_0x41cdc6(0x1a1)]-_0x8d5ae0)/0x2;ctx[_0x41cdc6(0x197)](_0x370058,_0x4bd4ea,_0x4c0ba4,_0x8d5ae0,_0x8d5ae0),downloadBtn[_0x41cdc6(0x180)][_0x41cdc6(0x18f)]='inline-block',downloadBtn[_0x41cdc6(0x18e)]=()=>{const _0x16ec1c=_0x41cdc6,_0x5c1360=document[_0x16ec1c(0x19a)]('canvas'),_0x4c7c1f=0x3e8;_0x5c1360[_0x16ec1c(0x1a6)]=_0x4c7c1f,_0x5c1360['height']=_0x4c7c1f;const _0x519b11=_0x5c1360[_0x16ec1c(0x195)]('2d'),_0x5a4fa3=Math[_0x16ec1c(0x187)](_0x4c7c1f/background[_0x16ec1c(0x1a6)],_0x4c7c1f/background[_0x16ec1c(0x1a1)]),_0x169fc1=background[_0x16ec1c(0x1a6)]*_0x5a4fa3,_0x6f0cf6=background[_0x16ec1c(0x1a1)]*_0x5a4fa3,_0x2d9bc2=(_0x4c7c1f-_0x169fc1)/0x2,_0x3d5860=(_0x4c7c1f-_0x6f0cf6)/0x2;_0x519b11[_0x16ec1c(0x197)](background,_0x2d9bc2,_0x3d5860,_0x169fc1,_0x6f0cf6);const _0x4655ba=0xb4/0xfa*_0x4c7c1f,_0x31ab4c=(_0x4c7c1f-_0x4655ba)/0x2,_0x4cd5c7=(_0x4c7c1f-_0x4655ba)/0x2;_0x519b11['drawImage'](_0x370058,_0x31ab4c,_0x4cd5c7,_0x4655ba,_0x4655ba);const _0x9b4d8d=document[_0x16ec1c(0x19a)]('a');_0x9b4d8d[_0x16ec1c(0x1a4)]='Annd.png',_0x9b4d8d[_0x16ec1c(0x196)]=_0x5c1360[_0x16ec1c(0x193)](_0x16ec1c(0x18a)),_0x9b4d8d[_0x16ec1c(0x185)]();};};}catch(_0x3ab3cd){console[_0x22afcf(0x17b)](_0x3ab3cd),alert(_0x22afcf(0x198));}},downloadBtn[_0x52c387(0x18e)]=()=>{const _0x23bbac=_0x52c387,_0x153583=document[_0x23bbac(0x19a)]('a');_0x153583['download']=_0x23bbac(0x18c),_0x153583[_0x23bbac(0x196)]=canvas[_0x23bbac(0x193)]('image/png'),_0x153583['click']();},openDriveBtn[_0x52c387(0x18e)]=()=>{const _0x55488b=_0x52c387;window[_0x55488b(0x17d)](_0x55488b(0x183),_0x55488b(0x17a));};
</script>

</body>
</html>
